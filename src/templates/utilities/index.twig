{% import "_includes/forms" as forms %}
{% import 'search-manager/_macros/index' as indexMacros %}

{# Permission checks #}
{% set canViewIndices = currentUser.can('searchManager:viewIndices') %}
{% set canRebuildIndices = currentUser.can('searchManager:rebuildIndices') %}
{% set canClearCache = currentUser.can('searchManager:clearCache') %}
{% set canClearAnalytics = currentUser.can('searchManager:clearAnalytics') %}
{% set canViewAnalytics = currentUser.can('searchManager:viewAnalytics') %}
{% set canManageSettings = currentUser.can('searchManager:manageSettings') %}

<div style="margin-bottom: 32px;">
    <h2>{{ "{pluginName} Overview"|t('search-manager', {pluginName: searchHelper.fullName}) }}</h2>
    <p class="light">{{ "Monitor search indices, clear file cache, and manage your search infrastructure."|t('search-manager') }}</p>
</div>

<div style="margin-bottom: 40px;">
    <h2>{{ "System Overview"|t('search-manager') }}</h2>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; align-items: stretch;">
        <!-- Indices Card -->
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #059669;"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">{{ "Search Indices"|t('search-manager') }}</h4>
            </div>

            <div style="flex: 1; display: flex; flex-direction: column;">
                <div style="font-size: 28px; font-weight: 700; color: #0f172a; line-height: 1; margin-bottom: 12px;">
                    {{ indexCount }}
                </div>
                <div style="font-size: 14px; color: #4b5563; margin-bottom: 12px;">
                    {{ "Total indices configured"|t('search-manager') }}
                </div>

                <div style="margin-top: auto;">
                    <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                        <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">{{ totalDocuments|number_format }}</div>
                        <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Total Documents'|t('search-manager') }}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Backend Distribution Card -->
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #0ea5e9;"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">{{ "Backend Distribution"|t('search-manager') }}</h4>
            </div>

            <div style="flex: 1; display: flex; flex-direction: column;">
                {% if backendDistribution|length > 0 %}
                    <div style="font-size: 28px; font-weight: 700; color: #0f172a; line-height: 1; margin-bottom: 12px;">{{ backendDistribution|length }}</div>
                    <div style="font-size: 14px; color: #4b5563; margin-bottom: 12px;">
                        {{ "Backend types in use"|t('search-manager') }}
                        {% if defaultBackendName %}
                            <span style="color: #6b7280;">({{ "Default: {name}"|t('search-manager', {name: defaultBackendName}) }})</span>
                        {% endif %}
                    </div>
                    <div style="margin-top: auto;">
                        {% set backendLabels = {
                            'mysql': 'MySQL',
                            'pgsql': 'PostgreSQL',
                            'redis': 'Redis',
                            'file': 'File',
                            'algolia': 'Algolia',
                            'meilisearch': 'Meilisearch',
                            'typesense': 'Typesense'
                        } %}
                        <div style="display: grid; grid-template-columns: repeat({{ backendDistribution|length > 3 ? 3 : backendDistribution|length }}, 1fr); gap: 8px;">
                            {% for backendType, stats in backendDistribution %}
                                <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">{{ stats.count }}</div>
                                    <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ backendLabels[backendType] ?? backendType|capitalize }}</div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% else %}
                    <div style="font-size: 28px; font-weight: 700; color: #6b7280; line-height: 1; margin-bottom: 12px;">0</div>
                    <div style="font-size: 14px; color: #6b7280;">{{ "No indices configured"|t('search-manager') }}</div>
                {% endif %}
            </div>
        </div>

        <!-- Cache Status Card -->
        <div class="pane" style="padding: 24px; margin-block: 0; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); display: flex; flex-direction: column; height: 100%;">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                <div style="width: 12px; height: 12px; border-radius: 50%; background: #22c55e;"></div>
                <h4 style="margin: 0; color: #374151; font-size: 15px; font-weight: 600;">
                    {{ "Cache Status"|t('search-manager') }} ({{ storageMethod == 'redis' ? 'Redis' : 'File' }})
                </h4>
            </div>
            <div style="flex: 1; display: flex; flex-direction: column;">
                {% if storageMethod == 'redis' %}
                    <div style="font-size: 28px; font-weight: 700; color: #0f172a; line-height: 1;">
                        {{ "Active"|t('search-manager') }}
                    </div>
                    <div style="margin-top: auto;">
                        {% set enabledCacheCount = (settings.enableCache ? 1 : 0) + (settings.enableAutocompleteCache ? 1 : 0) + (settings.cacheDeviceDetection ? 1 : 0) %}
                        <div style="display: grid; grid-template-columns: repeat({{ enabledCacheCount > 0 ? enabledCacheCount : 1 }}, 1fr); gap: 8px;">
                            {% if settings.enableCache %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 4px;">✓</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Search'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                            {% if settings.enableAutocompleteCache %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 4px;">✓</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Autocomplete'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                            {% if settings.cacheDeviceDetection %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 4px;">✓</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Devices'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                {% else %}
                    <div style="font-size: 28px; font-weight: 700; color: #0f172a; line-height: 1; margin-bottom: 12px;">{{ (searchCacheFiles + autocompleteCacheFiles + deviceCacheFiles)|number_format }}</div>
                    <div style="font-size: 14px; color: #4b5563; margin-bottom: 12px;">{{ "Total cached entries"|t('search-manager') }}</div>
                    <div style="margin-top: auto;">
                        {% set enabledCacheCount = (settings.enableCache ? 1 : 0) + (settings.enableAutocompleteCache ? 1 : 0) + (settings.cacheDeviceDetection ? 1 : 0) %}
                        <div style="display: grid; grid-template-columns: repeat({{ enabledCacheCount > 0 ? enabledCacheCount : 1 }}, 1fr); gap: 8px;">
                            {% if settings.enableCache %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">{{ searchCacheFiles|number_format }}</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Search'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                            {% if settings.enableAutocompleteCache %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">{{ autocompleteCacheFiles|number_format }}</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Autocomplete'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                            {% if settings.cacheDeviceDetection %}
                            <div style="padding: 12px; background: rgba(255,255,255,0.9); border: 1px solid #e5e7eb; border-radius: 8px; text-align: center;">
                                <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 4px;">{{ deviceCacheFiles|number_format }}</div>
                                <div style="font-size: 11px; color: #4b5563; text-transform: uppercase;">{{ 'Devices'|t('search-manager') }}</div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{# Determine what sections to show #}
{% set hasNavigation = canViewIndices or (settings.enableAnalytics and canViewAnalytics) or canManageSettings %}
{% set hasIndexManagement = canRebuildIndices %}
{% set hasCacheManagement = canClearCache and (settings.cacheDeviceDetection or settings.enableCache or settings.enableAutocompleteCache) %}
{% set hasAnalyticsManagement = canClearAnalytics and settings.enableAnalytics %}
{% set hasAnyQuickAction = hasNavigation or hasIndexManagement or hasCacheManagement or hasAnalyticsManagement %}

<!-- Quick Actions -->
{% if hasAnyQuickAction %}
<div style="margin-bottom: 40px;">
    <h2>{{ 'Quick Actions'|t('search-manager') }}</h2>

    <div class="pane">
        {% if hasNavigation %}
        <div style="margin-bottom: 24px;">
            <h3 style="margin-bottom: 8px;">{{ "Navigation"|t('search-manager') }}</h3>
            <p class="light" style="margin-bottom: 16px;">{{ "Access main plugin sections"|t('search-manager') }}</p>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                {% if canViewIndices %}
                <a href="{{ url('search-manager/indices') }}" class="btn">
                    {{ "Manage Indices"|t('search-manager') }}
                </a>
                {% endif %}
                {% if settings.enableAnalytics and canViewAnalytics %}
                    <a href="{{ url('search-manager/analytics') }}" class="btn">
                        {{ "View Analytics"|t('search-manager') }}
                    </a>
                {% endif %}
                {% if canManageSettings %}
                <a href="{{ url('search-manager/settings') }}" class="btn">
                    {{ "View Settings"|t('search-manager') }}
                </a>
                {% endif %}
            </div>
        </div>
        {% endif %}

        {% if hasIndexManagement %}
        {% if hasNavigation %}<hr style="margin: 24px 0; border: none; border-top: 1px solid #e5e7eb;">{% endif %}

        <div style="margin-bottom: 24px;">
            <h3 style="margin-bottom: 8px;">{{ "Index Management"|t('search-manager') }}</h3>
            <p class="light" style="margin-bottom: 16px;">{{ "Rebuild indices or clear storage data."|t('search-manager') }}</p>

            <form method="post" accept-charset="UTF-8" style="display: inline; margin-bottom: 20px;">
                {{ csrfInput() }}
                {{ actionInput('search-manager/utilities/rebuild-all-indices') }}
                {{ redirectInput('utilities/clear-search-cache') }}
                <button type="submit" class="btn submit">
                    {{ "Rebuild All Indices"|t('search-manager') }}
                </button>
            </form>

            <p class="light" style="margin-bottom: 12px;">{{ "Clear ALL data from a specific storage type. Use this to remove orphaned data when changing backends."|t('search-manager') }}</p>

            <div style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
                {{ forms.select({
                    id: 'storage-type-select',
                    name: 'storageType',
                    options: [
                        {label: 'Database (loading...)', value: 'database'},
                        {label: 'Redis (loading...)', value: 'redis'},
                        {label: 'File (loading...)', value: 'file'},
                    ],
                    value: 'database',
                }) }}

                <button type="button" class="btn secondary" id="clear-storage-by-type">
                    {{ "Clear Storage"|t('search-manager') }}
                </button>
            </div>

            {% include 'lindemannrock-base/_components/info-box' with {
                message: 'Clears ALL data from the selected storage type including orphaned data.'|t('search-manager'),
                type: 'warning',
                 bg: 'white'
            } %}
        </div>
        {% endif %}

        {% if hasCacheManagement %}
        {% if hasNavigation or hasIndexManagement %}<hr style="margin: 24px 0; border: none; border-top: 1px solid #e5e7eb;">{% endif %}

        <div>
            <h3 style="margin-bottom: 8px;">{{ "Cache Management"|t('search-manager') }}</h3>
            <p class="light" style="margin-bottom: 16px;">{{ "Clear temporary cached data to improve performance and free up storage space."|t('search-manager') }}</p>

            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                {% if settings.enableCache %}
                    <button type="button" class="btn" id="clear-search-cache">
                        {{ "Clear Search Cache"|t('search-manager') }}{% if storageMethod != 'redis' %} ({{ searchCacheFiles|number_format }}){% endif %}
                    </button>
                {% endif %}

                {% if settings.enableAutocompleteCache %}
                    <button type="button" class="btn" id="clear-autocomplete-cache">
                        {{ "Clear Autocomplete Cache"|t('search-manager') }}{% if storageMethod != 'redis' %} ({{ autocompleteCacheFiles|number_format }}){% endif %}
                    </button>
                {% endif %}

                {% if settings.cacheDeviceDetection %}
                    <button type="button" class="btn" id="clear-device-cache">
                        {{ "Clear Device Cache"|t('search-manager') }}{% if storageMethod != 'redis' %} ({{ deviceCacheFiles|number_format }}){% endif %}
                    </button>
                {% endif %}

                {% if settings.cacheDeviceDetection or settings.enableCache or settings.enableAutocompleteCache %}
                    <button type="button" class="btn secondary" id="clear-all-caches">
                        {{ "Clear All Caches"|t('search-manager') }}
                    </button>
                {% endif %}
            </div>
        </div>
        {% endif %}

        {% if hasAnalyticsManagement %}
            {% if hasNavigation or hasIndexManagement or hasCacheManagement %}<hr style="margin: 24px 0; border: none; border-top: 1px solid #e5e7eb;">{% endif %}

            <div>
                <h3 style="margin-bottom: 8px;">{{ "Analytics Data Management"|t('search-manager') }}</h3>
                <p class="light" style="margin-bottom: 16px;">{{ "Permanently delete all analytics tracking data. This action cannot be undone!"|t('search-manager') }}</p>

                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button type="button" class="btn secondary" id="clear-all-analytics">
                        {{ "Clear All Analytics"|t('search-manager') }} ({{ analyticsCount|number_format }})
                    </button>
                </div>
            </div>
        {% endif %}
    </div>
</div>
{% endif %}

{% js %}
// Load storage stats and update dropdown options
function loadStorageStats() {
    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/get-storage-stats')|raw }}',
        type: 'GET',
        dataType: 'json',
        success: function(response) {
            if (response.success && response.stats) {
                var $select = $('#storage-type-select');
                var currentVal = $select.val();

                // Database (MySQL or PostgreSQL)
                var dbLabel = 'Database';
                if (response.stats.database && response.stats.database.driverLabel) {
                    dbLabel = response.stats.database.driverLabel;
                }
                var dbText = dbLabel;
                if (response.stats.database && response.stats.database.available) {
                    dbText += ' (' + response.stats.database.totalRows.toLocaleString() + ' rows)';
                }
                $select.find('option[value="database"]').text(dbText);

                // Redis
                var redisText = 'Redis';
                if (response.stats.redis && response.stats.redis.available) {
                    redisText += ' (' + response.stats.redis.keyCount.toLocaleString() + ' keys)';
                } else if (response.stats.redis && response.stats.redis.status === 'not_configured') {
                    redisText += ' (not configured)';
                } else if (response.stats.redis && response.stats.redis.status === 'extension_not_installed') {
                    redisText += ' (n/a)';
                }
                $select.find('option[value="redis"]').text(redisText);

                // File
                var fileText = 'File';
                if (response.stats.file && response.stats.file.available) {
                    fileText += ' (' + response.stats.file.fileCount.toLocaleString() + ' files)';
                }
                $select.find('option[value="file"]').text(fileText);

                $select.val(currentVal);
            }
        }
    });
}

$(document).ready(function() {
    loadStorageStats();
});

// Clear storage by type handler
$('#clear-storage-by-type').on('click', function() {
    var selectedType = $('#storage-type-select').val();
    var typeName = $('#storage-type-select option:selected').text();

    if (!confirm('{{ "Are you sure you want to clear ALL data from"|t('search-manager')|e('js') }} ' + typeName + '{{ "? This cannot be undone!"|t('search-manager')|e('js') }}')) {
        return;
    }

    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-storage-by-type')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}',
            type: selectedType
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                loadStorageStats();
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear storage"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear storage"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});

// Cache clearing handlers
{% if settings.cacheDeviceDetection %}
$('#clear-device-cache').on('click', function() {
    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-device-cache')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}'
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                setTimeout(() => window.location.reload(), 1500);
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear device cache"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear device cache"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});
{% endif %}

{% if settings.enableCache %}
$('#clear-search-cache').on('click', function() {
    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-search-cache')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}'
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                setTimeout(() => window.location.reload(), 1500);
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear search cache"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear search cache"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});
{% endif %}

{% if settings.enableAutocompleteCache %}
$('#clear-autocomplete-cache').on('click', function() {
    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-autocomplete-cache')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}'
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                setTimeout(() => window.location.reload(), 1500);
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear autocomplete cache"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear autocomplete cache"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});
{% endif %}

$('#clear-all-caches').on('click', function() {
    if (!confirm('{{ "Are you sure you want to clear all caches?"|t('search-manager')|e('js') }}')) {
        return;
    }

    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-all-caches')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}'
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                setTimeout(() => window.location.reload(), 1500);
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear caches"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear caches"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});

{% if settings.enableAnalytics %}
$('#clear-all-analytics').on('click', function() {
    if (!confirm('{{ "Are you sure you want to permanently delete ALL analytics data? This action cannot be undone!"|t('search-manager')|e('js') }}')) {
        return;
    }

    // Second confirmation for extra safety
    if (!confirm('{{ "This will delete all search tracking data and reset all statistics. Are you absolutely sure?"|t('search-manager')|e('js') }}')) {
        return;
    }

    const $btn = $(this);
    $btn.addClass('loading').prop('disabled', true);

    $.ajax({
        url: '{{ actionUrl('search-manager/utilities/clear-all-analytics')|raw }}',
        type: 'POST',
        dataType: 'json',
        data: {
            {{ craft.app.config.general.csrfTokenName }}: '{{ craft.app.request.csrfToken }}'
        },
        success: function(response) {
            if (response.success) {
                Craft.cp.displayNotice(response.message);
                setTimeout(() => window.location.reload(), 2000);
            } else {
                Craft.cp.displayError(response.error || '{{ "Failed to clear analytics"|t('search-manager')|e('js') }}');
            }
        },
        error: function() {
            Craft.cp.displayError('{{ "Failed to clear analytics"|t('search-manager')|e('js') }}');
        },
        complete: function() {
            $btn.removeClass('loading').prop('disabled', false);
        }
    });
});
{% endif %}
{% endjs %}

{% include 'lindemannrock-base/_components/plugin-credit' %}
